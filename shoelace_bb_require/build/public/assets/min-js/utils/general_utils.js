define(["require"],function(e){var t={};return t.mouseOverObjectHash={},t.mouseOverObjectArray=[],t.mouseOverObject=function(e){var n=e.attr("id"),r=t.mouseOverObjectHash[n];r||(r={},r.el=e,t.mouseOverObjectHash[n]=r,t.mouseOverObjectArray.push(n)),r.u=r.el.offset().top,r.l=r.el.offset().left,r.d=r.u+r.el.height(),r.r=r.l+r.el.width();var i,s,o,u;i=r.u,s=r.r,o=r.d,u=r.l;var a=CONFIG.mouseX,f=CONFIG.mouseY;return a>u&&a<s&&f>i&&f<o?!0:!1},t.mousePosOnObject=function(e){var n=CONFIG.mouseX,r=CONFIG.mouseY,i=t.mouseOverObjectHash[e].l,s=t.mouseOverObjectHash[e].u,o=n-i,u=r-s,a={x:o,y:u};return a},t.mousePosOnHitArea=function(e){var t,n,r,i;t=e[0]*CONFIG.windowWidth,n=e[1]*CONFIG.windowHeight,r=e[2]*CONFIG.windowWidth,i=e[3]*CONFIG.windowHeight;var s=CONFIG.mouseX,o=CONFIG.mouseY;return s>t&&s<t+r&&o>n&&o<n+i?!0:!1},t.mouseOnRect=function(e){var t,n,r,i;t=e.x,n=e.y,r=e.w,i=e.h;var s=CONFIG.mouseX,o=CONFIG.mouseY;return s>t&&s<t+r&&o>n&&o<n+i?!0:!1},t.resizeWithExcessCalc=function(e,t,n,r,i){var s,o;!r&&!i?(s=CONFIG.windowHeight,o=CONFIG.windowWidth):(s=i,o=r);var u,a,f=n,l,c,h=e-t;h>0?(c=f,l=t/e*f,a=s,u=e/(t/a)):(l=f,c=e/t*f,u=o,a=t/(e/u));var p=u/o,d=a/s,v=1;p<1&&(v=p),d<1&&(v=d);var m=a/v+l,g=u/v+c,y=(o-g)/2,b=(s-m)/2;return{h:Math.round(m),w:Math.round(g),l:Math.round(y),t:Math.round(b)}},t.fitToSmallest=function(e,t,n,r){var i=e-t,s,o;return i>0?(s=r,o=e/(t/s)):(o=n,s=t/(e/o)),{w:o,h:s,l:(n-o)/2,t:(r-s)/2}},t.clamp=function(e,t,n){return Math.max(t,Math.min(n,e))},t.getDist=function(e,t,n,r){var i=Math.abs(t-e),s=Math.abs(r-n),o=Math.sqrt(i*i+s*s),u={x:i,y:s,total:o};return u},t.reflectVel=function(e,t,n){var r=.5,i={x:t.x-e.x,y:t.y-e.y},s={x:-n.x,y:-n.y},o=Math.sqrt(i.x*i.x+i.y*i.y),u=Math.sqrt(s.x*s.x+s.y*s.y),a=i.x*s.x+i.y*s.y,f=Math.acos(a/(o*u)),l=i.x<0?-1:1,c={x:-i.y/o*l,y:i.x/o*l},h=Math.sin(f)*u,p={x:c.x*2*h,y:c.y*2*h},d=.5*h*2/20*l;return{x:r*(s.x+p.x),y:r*(s.y+p.y),rot:d}},t.getAngle=function(e,t,n,r){var i=e-n,s=t-r,o=Math.atan2(s,i);return o<0&&(o=2*Math.PI-Math.abs(o)),o},t.getRand=function(e,t){return e+Math.random()*(t-e)},t.getRandFloored=function(e,t){return Math.floor(e+Math.random()*(t-e))},t.weightedRoll=function(e){var t=0;for(var n=0;n<e.length;n++)t+=e[n];var r=Math.random()*t,i=0,s=0;for(var n=0;n<e.length;n++){i+=e[n];if(i>=r){s=n;break}}return n},t.makePoint=function(e,t){return{x:e,y:t}},t.makeRect=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},t.hexToRgb=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},t.createColor=function(e,t,n){return{r:e,g:t,b:t}},t.shuffleArray=function(e){for(var t,n,r=e.length;r;t=parseInt(Math.random()*r),n=e[--r],e[r]=e[t],e[t]=n);return e},t.swapArrayElements=function(e,t,n){var r=n[e];return n[e]=n[t],n[t]=r,n},t.randomArrayElement=function(e){return e[Math.floor(e.length*Math.random())]},t.tryMethodOnArray=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r[e]&&r[e]()}},t.checkString=function(e,t){var n=!1,r=t.indexOf(e);return r>=0?{index:r}:!1},t.zeroPad=function(e,t){var n="000000000000"+e;return n.substr(n.length-t)},t.getPixel=function(e,t,n){var r=(t+n*e.width)*4,i=e.data[r+0],s=e.data[r+1],o=e.data[r+2],u=e.data[r+3];return[i,s,o,u]},t.createCanvasTexture=function(e,t,n){var r=document.createElement("canvas"),i=r.getContext("2d");return r.width=i.width=t,r.height=i.height=t,e=="circle"?(i.fillStyle="#000000",i.beginPath(),i.arc(t/2,t/2,t/2,0,Math.PI*2,!0),i.closePath(),i.fill()):e=="rect"&&(i.fillStyle="#000000",i.fillRect(0,0,t,n)),r},t.createCanvasDefault=function(e,t){config={width:0,height:0,radius:0,color:"#000000"};for(key in t)config[key]=t[key];var n=config.width||config.radius*2,r=config.height||config.radius*2,i=document.createElement("canvas"),s=i.getContext("2d");return i.width=s.width=n,i.height=s.height=r,s.fillStyle=config.color,e=="circle"?(s.beginPath(),s.arc(config.radius,config.radius,config.radius,0,Math.PI*2,!0),s.closePath(),s.fill()):e=="rect"&&s.fillRect(0,0,config.width,config.height),i},t.generateCanvas=function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return t.width=n.width=e.w,t.height=n.height=e.h,t},t.imgToCanvas=function(e,t,n){var r=document.createElement("canvas"),i=r.getContext("2d");return r.width=i.width=t,r.height=i.height=n,i.drawImage(e,0,0,t,n),r},t});